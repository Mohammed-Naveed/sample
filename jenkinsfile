pipeline {
    agent any

    stages {
       stage('Build') {
			steps {
				script {
				      sh 'sbt package'
      

				}
			}
		}
		

    stage('Upload') {
    steps{

        dir('var/lib/jenkins/workspace/sam'){

            pwd(); //Log current directory

            withAWS(region:'us-east-1',credentials:'awscred') {

                 

                // Upload files from working directory 'dist' in your project workspace
                s3Upload(bucket:"scalabuild", workingDir:'sam/target/scala-2.13/scala-examples_2.13-0.1-SNAPSHOT.jar', includePathPattern:'**/*');
            }
	    }

        }
    }

    }
}
